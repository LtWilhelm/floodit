(()=>{"use strict";var n={788:(n,e,t)=>{t.d(e,{Z:()=>c});var r=t(15),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([n.id,"*{\n  box-sizing: border-box;\n}\n\nh1 {\n  margin: 0 0 10px;\n}\n\nbody {\n  display: grid;\n  height: 100vh;\n  background-color: #232323;\n  padding: 0;\n  margin: 0;\n}\n\n* {\n  font-family: 'Roboto';\n  color: #dcdcdc;\n  font-size: 32px;\n}\n\n#container {\n  place-self: center;\n  /* background-color: green; */\n  text-align: center;\n}\n\n#game, color-picker {\n  display: grid;\n  padding: 15px;\n  border-radius: 15px;\n  box-shadow: #202020 10px 10px 10px, #272727 -10px -10px 10px;\n  width: 800px;\n  max-width: 95vw;\n  height: 800px;\n  max-height: 95vw;\n  margin: auto;\n}\n\n#game div {\n  cursor: pointer;\n  transition: .3s;\n}\n\nselect, button {\n  background-color: #232323;\n  box-shadow: #202020 5px 5px 5px, #272727 -5px -5px 5px;\n  border: none;\n  border-radius: 10px;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  transition: .2s;\n}\n\nbutton {\n  border: 2px solid #232323;\n  background: linear-gradient(45deg, #272727, #202020);\n  transition: .2s;\n}\nbutton:active {\n  box-shadow: #202020 5px 5px 5px inset, #272727 -5px -5px 5px inset;\n  background: linear-gradient(-45deg, #272727, #202020);\n}\n\nselect {\n  outline: none;\n}\n\n.select {\n  position: relative;\n  display: inline;\n  padding-right: .7em;\n  margin-right: 10px;\n  cursor: pointer;\n}\n\n.select::after {\n  content: '';\n  width: .5em;\n  height: .5em;\n  position: absolute;\n  /* left: 100%; */\n  border-bottom: 1px #dcdcdc solid;\n  border-right: 1px #dcdcdc solid;\n  right: 0;\n  top: 20%;\n  clear: both;\n  transform: rotate(45deg);\n  transition: .2s;\n}\n\n.select:hover *, button:hover {\n  color: white;\n}\n.select:hover::after {\n  border-color: white;\n}\n\nstatus, victory {\n  display: block;\n  margin-top: 10px;\n}\n\ncolor-picker {\n  display: grid;\n  /* width: max-content; */\n  grid-template-columns: repeat(auto-fill, minmax(2em, 1fr));\n\n  grid-template-rows: repeat(auto-fill, 1fr);\n  grid-column-gap: 15px;\n  grid-row-gap: 15px;\n  height: max-content;\n  margin-top: 20px;\n}\n\ncolor {\n  cursor: pointer;\n  padding-bottom: 100%;\n}\n\n@media only screen and (max-width: 425px) {\n  * {\n    font-size: 1.1em;\n  }\n}","",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;EACE,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,aAAa;EACb,yBAAyB;EACzB,UAAU;EACV,SAAS;AACX;;AAEA;EACE,qBAAqB;EACrB,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,6BAA6B;EAC7B,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,4DAA4D;EAC5D,YAAY;EACZ,eAAe;EACf,aAAa;EACb,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,sDAAsD;EACtD,YAAY;EACZ,mBAAmB;EACnB,qBAAqB;EACrB,wBAAwB;EACxB,gBAAgB;EAChB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,oDAAoD;EACpD,eAAe;AACjB;AACA;EACE,kEAAkE;EAClE,qDAAqD;AACvD;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,mBAAmB;EACnB,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,gCAAgC;EAChC,+BAA+B;EAC/B,QAAQ;EACR,QAAQ;EACR,WAAW;EACX,wBAAwB;EACxB,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;AACA;EACE,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,wBAAwB;EACxB,0DAA0D;;EAE1D,0CAA0C;EAC1C,qBAAqB;EACrB,kBAAkB;EAClB,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,oBAAoB;AACtB;;AAEA;EACE;IACE,gBAAgB;EAClB;AACF",sourcesContent:["*{\n  box-sizing: border-box;\n}\n\nh1 {\n  margin: 0 0 10px;\n}\n\nbody {\n  display: grid;\n  height: 100vh;\n  background-color: #232323;\n  padding: 0;\n  margin: 0;\n}\n\n* {\n  font-family: 'Roboto';\n  color: #dcdcdc;\n  font-size: 32px;\n}\n\n#container {\n  place-self: center;\n  /* background-color: green; */\n  text-align: center;\n}\n\n#game, color-picker {\n  display: grid;\n  padding: 15px;\n  border-radius: 15px;\n  box-shadow: #202020 10px 10px 10px, #272727 -10px -10px 10px;\n  width: 800px;\n  max-width: 95vw;\n  height: 800px;\n  max-height: 95vw;\n  margin: auto;\n}\n\n#game div {\n  cursor: pointer;\n  transition: .3s;\n}\n\nselect, button {\n  background-color: #232323;\n  box-shadow: #202020 5px 5px 5px, #272727 -5px -5px 5px;\n  border: none;\n  border-radius: 10px;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  transition: .2s;\n}\n\nbutton {\n  border: 2px solid #232323;\n  background: linear-gradient(45deg, #272727, #202020);\n  transition: .2s;\n}\nbutton:active {\n  box-shadow: #202020 5px 5px 5px inset, #272727 -5px -5px 5px inset;\n  background: linear-gradient(-45deg, #272727, #202020);\n}\n\nselect {\n  outline: none;\n}\n\n.select {\n  position: relative;\n  display: inline;\n  padding-right: .7em;\n  margin-right: 10px;\n  cursor: pointer;\n}\n\n.select::after {\n  content: '';\n  width: .5em;\n  height: .5em;\n  position: absolute;\n  /* left: 100%; */\n  border-bottom: 1px #dcdcdc solid;\n  border-right: 1px #dcdcdc solid;\n  right: 0;\n  top: 20%;\n  clear: both;\n  transform: rotate(45deg);\n  transition: .2s;\n}\n\n.select:hover *, button:hover {\n  color: white;\n}\n.select:hover::after {\n  border-color: white;\n}\n\nstatus, victory {\n  display: block;\n  margin-top: 10px;\n}\n\ncolor-picker {\n  display: grid;\n  /* width: max-content; */\n  grid-template-columns: repeat(auto-fill, minmax(2em, 1fr));\n\n  grid-template-rows: repeat(auto-fill, 1fr);\n  grid-column-gap: 15px;\n  grid-row-gap: 15px;\n  height: max-content;\n  margin-top: 20px;\n}\n\ncolor {\n  cursor: pointer;\n  padding-bottom: 100%;\n}\n\n@media only screen and (max-width: 425px) {\n  * {\n    font-size: 1.1em;\n  }\n}"],sourceRoot:""}]);const c=a},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,r){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<n.length;c++){var s=[].concat(n[c]);r&&o[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),e.push(s))}},e}},15:n=>{function e(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}n.exports=function(n){var t,r,o=(r=4,function(n){if(Array.isArray(n))return n}(t=n)||function(n,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return t}}(t,r)||function(n,t){if(n){if("string"==typeof n)return e(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(n,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if("function"==typeof btoa){var c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),l="/*# ".concat(s," */"),A=a.sources.map((function(n){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(n," */")}));return[i].concat(A).concat([l]).join("\n")}return[i].join("\n")}},379:(n,e,t)=>{var r,o=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),i=[];function a(n){for(var e=-1,t=0;t<i.length;t++)if(i[t].identifier===n){e=t;break}return e}function c(n,e){for(var t={},r=[],o=0;o<n.length;o++){var c=n[o],s=e.base?c[0]+e.base:c[0],l=t[s]||0,A="".concat(s," ").concat(l);t[s]=l+1;var u=a(A),d={css:c[1],media:c[2],sourceMap:c[3]};-1!==u?(i[u].references++,i[u].updater(d)):i.push({identifier:A,updater:g(d,e),references:1}),r.push(A)}return r}function s(n){var e=document.createElement("style"),r=n.attributes||{};if(void 0===r.nonce){var i=t.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(n){e.setAttribute(n,r[n])})),"function"==typeof n.insert)n.insert(e);else{var a=o(n.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,A=(l=[],function(n,e){return l[n]=e,l.filter(Boolean).join("\n")});function u(n,e,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(n.styleSheet)n.styleSheet.cssText=A(e,o);else{var i=document.createTextNode(o),a=n.childNodes;a[e]&&n.removeChild(a[e]),a.length?n.insertBefore(i,a[e]):n.appendChild(i)}}function d(n,e,t){var r=t.css,o=t.media,i=t.sourceMap;if(o?n.setAttribute("media",o):n.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleSheet)n.styleSheet.cssText=r;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(r))}}var p=null,h=0;function g(n,e){var t,r,o;if(e.singleton){var i=h++;t=p||(p=s(e)),r=u.bind(null,t,i,!1),o=u.bind(null,t,i,!0)}else t=s(e),r=d.bind(null,t,e),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return r(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;r(n=e)}else o()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=c(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var r=0;r<t.length;r++){var o=a(t[r]);i[o].references--}for(var s=c(n,e),l=0;l<t.length;l++){var A=a(t[l]);0===i[A].references&&(i[A].updater(),i.splice(A,1))}t=s}}}}},e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n=t(379),e=t.n(n),r=t(788);e()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;var o,i=function(n,e){return Math.floor(Math.random()*e)+n},a=function(){var n=this;this.isEqual=function(e){return n.blue===e.blue&&n.green===e.green&&n.red===e.red},this.randomize=function(){return n.red=i(0,256),n.green=i(0,256),n.blue=i(0,256),n},this.getColorString=function(){return"rgb("+n.red+", "+n.green+", "+n.blue+")"}},c=function(n,e,t){var r,o=this;this.onClick=function(){o.game.chooseColor(o.color)},this.changeColor=function(n){return e=o,t=void 0,i=function(){var e,t,r,o,i,a;return function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(n,a)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(c){switch(c.label){case 0:return e=this.color,this.color=n,t=!0,[4,new Promise((function(n){setTimeout((function(){n(!0)}),30)}))];case 1:return c.sent(),this.posY>0&&(r=this.game.rows[this.posY-1][this.posX]).color.isEqual(e)&&(t=!1,r.changeColor(this.color)),this.posX>0&&(o=this.game.rows[this.posY][this.posX-1]).color.isEqual(e)&&(t=!1,o.changeColor(this.color)),this.posY<this.game.size-1&&(i=this.game.rows[this.posY+1][this.posX]).color.isEqual(e)&&i.changeColor(this.color),this.posX<this.game.size-1&&(a=this.game.rows[this.posY][this.posX+1]).color.isEqual(e)&&(t=!1,a.changeColor(this.color)),t&&(this.game.turnInProgress=!1),this.posX===this.game.size-1&&this.posY===this.game.size-1&&this.game.checkWin(),this.render(),[2]}}))},new((r=void 0)||(r=Promise))((function(n,o){function a(n){try{s(i.next(n))}catch(n){o(n)}}function c(n){try{s(i.throw(n))}catch(n){o(n)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(n){n(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}));var e,t,r,i},this.render=function(){var n=document.getElementById(o.posX+","+o.posY);n.style.backgroundColor=o.color.getColorString(),n.removeEventListener("mouseup",o.onClick)},this.posX=n,this.posY=e,this.game=t,this.color=(r=t.availColors)[Math.floor(Math.random()*r.length)]},s=function(n,e){var t=this;void 0===e&&(e=6),this.score=0,this.turn=0,this.renderTurn=function(){t.statusField.innerText=t.turn+"/"+t.turnLimit},this.checkWin=function(){var n=t.rows.every((function(n){return n[0].color.isEqual(t.rows[0][0].color)&&n.every((function(e){return e.color.isEqual(n[0].color)}))}));t.turn>=t.turnLimit?(t.victoryField.innerText="ALL YOUR BASE ARE BELONG TO ME",t.hasLost=!0):n&&!t.hasLost&&(t.victoryField.innerText="A WINNER IS YOU")},this.mount=function(n){var e=document.getElementById(n);e.innerHTML="",e.setAttribute("style","\n    grid-template-columns: repeat("+t.size+", 1fr);\n    grid-template-rows: repeat("+t.size+", 1fr);\n    "),t.rows.forEach((function(n){n.forEach((function(n){var t=document.createElement("div");t.id=n.posX+","+n.posY,t.style.backgroundColor=n.color.getColorString(),t.addEventListener("mouseup",n.onClick),e.appendChild(t)}))})),t.colorpicker.innerHTML="",t.availColors.forEach((function(n){var e=document.createElement("color");e.style.backgroundColor=n.getColorString(),e.addEventListener("mouseup",(function(){return t.chooseColor(n)})),t.colorpicker.appendChild(e)})),t.victoryField.innerText="",t.renderTurn()},this.chooseColor=function(n){if(!t.turnInProgress){var e=t.rows[0][0];e.color.isEqual(n)||(t.turnInProgress=!0,e.changeColor(n),t.turn++,t.renderTurn())}},this.toggleColorPicker=function(){t.colorpicker.style.display="none"===t.colorpicker.style.display?"grid":"none"},this.size=n,this.rows=[],this.availColors=[];for(var r=0;r<e;r++)this.availColors.push((new a).randomize());for(var o=0;o<n;o++){for(var i=[],s=0;s<n;s++)i.push(new c(s,o,this));this.rows.push(i)}this.statusField=document.querySelector("status"),this.victoryField=document.querySelector("victory"),this.colorpicker=document.querySelector("color-picker"),this.turnLimit=(this.size-2)/4*7+3};"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(n){console.log("SW registered: ",n)})).catch((function(n){console.log("SW registration failed: ",n)}))}));var l=document.querySelector('select[name="gameSize"]'),A=parseInt(l.value);l.addEventListener("change",(function(n){A=parseInt(l.value)}));var u=document.querySelector('select[name="colorCount"]'),d=parseInt(u.value);u.addEventListener("change",(function(n){d=parseInt(u.value)})),document.querySelector("button").addEventListener("mouseup",h);var p=document.querySelector('input[type="checkbox"]');function h(){o&&p.removeEventListener("click",o.toggleColorPicker),o=new s(A,d),p.addEventListener("click",o.toggleColorPicker),o.mount("game")}h()})()})();